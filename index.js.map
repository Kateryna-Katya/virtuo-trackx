{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["/**\n * Virtuo-Trackx Full Script\n * Includes: GSAP, Lenis, SplitType, Mobile Menu, FAQ, Form Validation\n */\n\ndocument.addEventListener('DOMContentLoaded', () => {\n    \n    // 1. Инициализация иконок Lucide\n    if (typeof lucide !== 'undefined') {\n        lucide.createIcons();\n    }\n\n    // 2. Инициализация Lenis (Плавный скролл)\n    const lenis = new Lenis();\n    function raf(time) {\n        lenis.raf(time);\n        requestAnimationFrame(raf);\n    }\n    requestAnimationFrame(raf);\n\n    // 3. Анимации GSAP + SplitType\n    gsap.registerPlugin(ScrollTrigger);\n\n    // Проверка и инициализация SplitType для заголовка Hero\n    const heroTitle = document.querySelector('.split-text');\n    if (heroTitle && typeof SplitType !== 'undefined') {\n        const text = new SplitType(heroTitle, { types: 'words,chars' });\n        \n        gsap.from(text.chars, {\n            opacity: 0,\n            y: 30,\n            duration: 0.8,\n            stagger: 0.02,\n            ease: \"power4.out\",\n            delay: 0.5\n        });\n    }\n\n    // Анимация появления всех секций при скролле\n    gsap.utils.toArray('section').forEach(section => {\n        gsap.from(section, {\n            scrollTrigger: {\n                trigger: section,\n                start: \"top 85%\",\n            },\n            y: 40,\n            opacity: 0,\n            duration: 1,\n            ease: \"power2.out\"\n        });\n    });\n\n    // 4. Мобильное меню\n    const burger = document.querySelector('.burger');\n    const menu = document.querySelector('.mobile-menu-overlay');\n    const navLinks = document.querySelectorAll('.mobile-nav__link');\n\n    if (burger && menu) {\n        burger.addEventListener('click', () => {\n            burger.classList.toggle('burger--active');\n            menu.classList.toggle('active');\n            document.body.classList.toggle('no-scroll');\n        });\n\n        navLinks.forEach(link => {\n            link.addEventListener('click', () => {\n                burger.classList.remove('burger--active');\n                menu.classList.remove('active');\n                document.body.classList.remove('no-scroll');\n            });\n        });\n    }\n\n    // 5. FAQ Аккордеон\n    const faqItems = document.querySelectorAll('.faq__item');\n    faqItems.forEach(item => {\n        const trigger = item.querySelector('.faq__trigger');\n        trigger.addEventListener('click', () => {\n            const isActive = item.classList.contains('faq__item--active');\n            \n            // Закрываем все открытые\n            faqItems.forEach(i => i.classList.remove('faq__item--active'));\n            \n            // Если не был активен — открываем\n            if (!isActive) {\n                item.classList.add('faq__item--active');\n            }\n        });\n    });\n\n    // 6. Валидация телефона (только цифры и +)\n    const phoneInput = document.getElementById('phone-input');\n    if (phoneInput) {\n        phoneInput.addEventListener('input', (e) => {\n            e.target.value = e.target.value.replace(/[^\\d+]/g, '');\n        });\n    }\n\n    // 7. Математическая Капча и Форма\n    const captchaText = document.getElementById('captcha-question');\n    const captchaInput = document.getElementById('captcha-answer');\n    \n    if (captchaText) {\n        let n1 = Math.floor(Math.random() * 10);\n        let n2 = Math.floor(Math.random() * 5);\n        let result = n1 + n2;\n        captchaText.textContent = `${n1} + ${n2} = `;\n        \n        const form = document.getElementById('ai-form');\n        form.addEventListener('submit', (e) => {\n            e.preventDefault();\n            \n            if (parseInt(captchaInput.value) !== result) {\n                alert('Пожалуйста, решите математический пример правильно.');\n                return;\n            }\n\n            const btn = form.querySelector('button');\n            const successMsg = document.getElementById('form-success');\n            \n            btn.textContent = 'Отправка...';\n            btn.disabled = true;\n\n            // Имитация AJAX\n            setTimeout(() => {\n                form.reset();\n                btn.textContent = 'Отправлено!';\n                successMsg.classList.remove('hidden');\n                \n                // Обновляем капчу для следующего раза\n                n1 = Math.floor(Math.random() * 10);\n                n2 = Math.floor(Math.random() * 5);\n                result = n1 + n2;\n                captchaText.textContent = `${n1} + ${n2} = `;\n            }, 1500);\n        });\n    }\n\n    // 8. Cookie Popup\n    const cookiePopup = document.getElementById('cookie-popup');\n    const acceptBtn = document.getElementById('accept-cookies');\n    \n    if (cookiePopup && !localStorage.getItem('cookies-accepted')) {\n        setTimeout(() => {\n            cookiePopup.classList.remove('hidden');\n        }, 3000);\n\n        acceptBtn.addEventListener('click', () => {\n            localStorage.setItem('cookies-accepted', 'true');\n            cookiePopup.classList.add('hidden');\n        });\n    }\n\n    // 9. Смена стиля Header при скролле\n    window.addEventListener('scroll', () => {\n        const header = document.querySelector('.header');\n        if (window.scrollY > 50) {\n            header.classList.add('header--scrolled');\n        } else {\n            header.classList.remove('header--scrolled');\n        }\n    });\n});"],"names":["lenis","raf","time","heroTitle","text","section","burger","menu","navLinks","link","faqItems","item","isActive","phoneInput","captchaText","captchaInput","n1","n2","result","form","e","btn","successMsg","cookiePopup","acceptBtn","header"],"mappings":"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"}